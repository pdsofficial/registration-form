<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paniya Digital Success</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 10px;
  }
  .form-container {
    background-color: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 420px;
    text-align: center;
  }
  input, select, button {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 16px;
  }
  button:disabled {
    background-color: #aaa;
    cursor: not-allowed;
  }
  /* QR ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
  .qr-section {
    width: 100%;
    height: 400px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 12px;
    background-color: #fff;
    margin: 20px 0;
  }
  .qr-section img {
    height: 110%;
    object-fit: cover;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .qr-section img:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0,0,0,0.4);
  }
  .error-msg {
    color: red;
    font-weight: bold;
    margin-top: 5px;
    font-size: 14px;
    min-height: 20px;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
</head>
<body>

<div class="form-container">
  <form id="registrationForm">
    <input type="text" id="name" placeholder="‡§®‡§æ‡§Æ" required>
    <input type="tel" id="mobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞" pattern="[0-9]{10}" required>
    <select id="gender" required>
      <option value="">‡§ú‡•á‡§Ç‡§°‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="other">Other</option>
    </select>

    <!-- üîπ ‡§Ü‡§™‡§ï‡§æ QR ‡§ï‡•ã‡§° (‡§ú‡§º‡•Ç‡§Æ + ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø) -->
    <div class="qr-section">
      <img id="qrImage" src="1000005551.jpg" alt="UPI Payment QR Code">
    </div>

    <input type="file" id="screenshot" accept="image/*" required>
    <div id="errorMsg" class="error-msg">‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç</div>

    <button type="submit" id="submitBtn" disabled>‡§∏‡§¨‡§Æ‡§ø‡§ü</button>
  </form>
</div>

<script>
  const qrImage = document.getElementById('qrImage');
  const screenshot = document.getElementById('screenshot');
  const submitBtn = document.getElementById('submitBtn');
  const form = document.getElementById('registrationForm');
  const errorMsg = document.getElementById('errorMsg');

  // ‚úÖ ‡§Ü‡§™‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•Ä UPI ‡§≤‡§ø‡§Ç‡§ï
  const upiLink = "upi://pay?pa=9509607895@upi&pn=PaniyaDigitalSuccess&am=500&cu=INR";

  // QR ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï/‡§ü‡§ö ‚Üí UPI ‡§ê‡§™ ‡§ñ‡•Å‡§≤‡•á
  qrImage.addEventListener('click', () => {
    window.location.href = upiLink;
    alert("‡§ï‡•É‡§™‡§Ø‡§æ ‚Çπ500 ‡§ï‡§æ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§®‡§∂‡•â‡§ü ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç‡•§");
  });

  // üîπ OCR ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§®‡§∂‡•â‡§ü ‡§ö‡•á‡§ï
  screenshot.addEventListener('change', () => {
    submitBtn.disabled = true;
    if(screenshot.files.length > 0){
      const file = screenshot.files[0];
      const reader = new FileReader();
      reader.onload = function() {
        Tesseract.recognize(reader.result, 'eng+hin', { logger: m => console.log(m) })
        .then(({ data: { text } }) => {
          console.log("Detected Text:", text);
          if(text.includes("Panne khan ‚Çπ500 ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡§´‡§≤ ‡§∞‡§π‡§æ")){
            submitBtn.disabled = false;
          } else {
            submitBtn.disabled = true;
            errorMsg.textContent = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç";
          }
        });
      }
      reader.readAsDataURL(file);
    }
  });

  // üîπ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‚Üí ‡§ï‡§Ç‡§ó‡•ç‡§∞‡•à‡§ú‡•Å‡§≤‡•á‡§∂‡§® ‡§î‡§∞ WhatsApp ‡§∞‡•Ä‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    alert("üéâ Congratulations! Registration Successful.");
    window.location.href = "https://wa.me/9509607895";
  });
</script>

</body>
</html>
