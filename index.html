<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paniya Digital Success Registration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 10px;
  }
  .form-container {
    background-color: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 400px;
    text-align: center;
  }
  input, select, button {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 16px;
  }
  button:disabled {
    background-color: #aaa;
    cursor: not-allowed;
  }
  /* QR ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§ú‡§º‡•Ç‡§Æ */
  .qr-section {
    width: 100%;
    height: 350px; /* QR ‡§¨‡§°‡§º‡§æ ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 12px;
    background-color: #fff;
    margin: 20px 0;
  }
  .qr-section img {
    height: 100%;
    object-fit: cover; /* ‡§¨‡§æ‡§ï‡•Ä ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§ï‡§ü ‡§ú‡§æ‡§è */
    cursor: pointer;
  }
  .error-msg {
    color: red; /* ‡§≤‡§æ‡§≤ ‡§∞‡§Ç‡§ó */
    font-weight: bold;
    margin-top: 5px;
    font-size: 14px;
    min-height: 20px; /* ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ú‡§ó‡§π ‡§∞‡§π‡•á */
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
</head>
<body>

<div class="form-container">
  <form id="registrationForm">
    <input type="text" id="name" placeholder="‡§®‡§æ‡§Æ" required>
    <input type="tel" id="mobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞" pattern="[0-9]{10}" required>
    <select id="gender" required>
      <option value="">‡§ú‡•á‡§Ç‡§°‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="other">Other</option>
    </select>

    <!-- ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§ú‡§º‡•Ç‡§Æ QR -->
    <div class="qr-section">
      <img id="qrImage" src="https://i.postimg.cc/hjY5WhXy/Account-QRCode-1785-LIGHT-THEME.png" alt="Mera QR ‡§∏‡•ç‡§ï‡•à‡§®‡§∞">
    </div>

    <input type="file" id="screenshot" accept="image/*" required>
    <div id="errorMsg" class="error-msg">‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç</div>

    <button type="submit" id="submitBtn" disabled>‡§∏‡§¨‡§Æ‡§ø‡§ü</button>
  </form>
</div>

<script>
  const qrImage = document.getElementById('qrImage');
  const screenshot = document.getElementById('screenshot');
  const submitBtn = document.getElementById('submitBtn');
  const form = document.getElementById('registrationForm');
  const errorMsg = document.getElementById('errorMsg');

  const upiLink = "upi://pay?pa=9509607895@upi&pn=PaniyaDigitalSuccess&am=500&cu=INR";

  // QR ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ UPI ‡§ê‡§™ ‡§ñ‡•Å‡§≤‡•á
  qrImage.addEventListener('click', () => {
    window.location.href = upiLink;
    alert("UPI ‡§ê‡§™ ‡§Æ‡•á‡§Ç ‚Çπ500 ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§®‡§∂‡•â‡§ü ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç‡•§");
  });

  screenshot.addEventListener('change', () => {
    submitBtn.disabled = true;

    if(screenshot.files.length > 0){
      const file = screenshot.files[0];
      const reader = new FileReader();
      reader.onload = function() {
        Tesseract.recognize(reader.result, 'eng+hin', { logger: m => console.log(m) })
        .then(({ data: { text } }) => {
          console.log("Detected Text:", text);
          // ‡§Ö‡§ó‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∏‡§π‡•Ä ‡§π‡•à ‡§§‡•ã ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§Ö‡§®‡•á‡§¨‡§≤, ‡§®‡§π‡•Ä‡§Ç ‡§§‡•ã disable
          if(text.includes("Panne khan ‚Çπ500 ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡§´‡§≤ ‡§∞‡§π‡§æ")){
            submitBtn.disabled = false;
          } else {
            submitBtn.disabled = true;
          }
          // ‡§π‡§Æ‡•á‡§∂‡§æ ‡§≤‡§æ‡§≤ ‡§∞‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§∏‡•á‡§ú ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
          errorMsg.textContent = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç";
        });
      }
      reader.readAsDataURL(file);
    }
  });

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    alert("üéâ Congratulations! Registration Successful.");
    window.location.href = "https://wa.me/9509607895";
  });
</script>

</body>
</html>
